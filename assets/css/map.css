/* Styles pour les cartes Leaflet et graphiques d'élévation */

.gps-container {
    width: 100%;
    max-width: 100%;
    margin-bottom: 2rem;
    overflow-x: hidden;
    box-sizing: border-box;
}

/* Carte Leaflet */
.adventure-map {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    height: 400px;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    margin-bottom: 1rem;
    background-color: #f5f5f5;
    position: relative;
    z-index: 1;
}

/* Responsive: hauteur réduite sur mobile */
@media screen and (max-width: 768px) {
    .adventure-map {
        height: 300px;
    }
}

/* Graphique d'élévation uPlot */
.elevation-chart {
    width: 100%;
    max-width: 100%;
    min-width: 200px;
    margin-bottom: 1rem;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    background-color: #fff;
    padding: 0.5rem;
    box-sizing: border-box;
}

.elevation-chart canvas {
    max-width: 100% !important;
    height: auto !important;
}

/* Amélioration du curseur uPlot */
.elevation-chart .u-cursor-pt {
    background: #3498db !important;
    border-radius: 50%;
}

.elevation-chart .u-cursor-x,
.elevation-chart .u-cursor-y {
    border-color: rgba(52, 152, 219, 0.5) !important;
}

/* Optimisation Leaflet : désactiver certaines animations sur mobile */
@media screen and (max-width: 768px) {
    .leaflet-tile-container {
        will-change: auto !important;
    }
}

/* Message de chargement */
.adventure-map::before {
    content: "Chargement de la carte...";
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #7a7a7a;
    font-size: 1rem;
    font-style: italic;
}

.adventure-map.loaded::before {
    display: none;
}

/* Amélioration de l'accessibilité des contrôles Leaflet */
.leaflet-control-zoom a {
    font-size: 18px;
    line-height: 26px;
}

/* Styles pour le marqueur interactif */
.leaflet-interactive {
    cursor: pointer;
}

/* Empêcher le débordement horizontal des métadonnées */
.gps-container .level {
    max-width: 100%;
    overflow-x: hidden;
}

/* Sur mobile, s'assurer que rien ne déborde */
@media screen and (max-width: 768px) {
    .gps-container,
    .gps-container * {
        max-width: 100%;
        box-sizing: border-box;
    }
}
